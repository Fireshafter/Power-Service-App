<h3>Editar reparacion component</h3>
<p>Target = {{target}}</p>

<div id="formularioDispositivo" class="center">
    <form *ngIf="target == 'dispositivo' && dispositivo" [formGroup]="dispositivo">

        
        <div class="form-row">
            <label for="nombredispositivo" class="col-2 col-form-label">Dispositivo</label>
            <div class="col-10">
                <input type="text" class="form-control" formControlName="nombre" id="nombredispositivo" required="required" placeholder="Dispositivo">
            </div>
        </div>
        
        <div class="form-row">
            <label for="estadodispositivo" class="col-2 col-form-label">Estado</label>
            <div class="col-10">
                <input type="text" class="form-control" formControlName="estado" id="estadodispositivo" required="required" placeholder="Estados separados por comas">
            </div>
        </div>
        
        <div class="form-row">
            <label for="accesoriosdispositivo" class="col-2 col-form-label">Accesorios</label>
            <div class="col-10">
                <input type="text" class="form-control" formControlName="accesorios" id="accesoriosdispositivo" required="required" placeholder="Accesorios separados por comas">
            </div>
        </div>
        
        <div class="form-row">
            <label for="sndispositivo" class="col-2 col-form-label">Número de serie</label>
            <div class="col-10">
                <input type="text" class="form-control" formControlName="sn" id="sndispositivo" required="required" placeholder="Numero de Serie">
            </div>
        </div>
        
        <div class="form-row">
            <label for="marcadispositivo" class="col-2 col-form-label">Marca</label>
            <div class="col-10">
                <input type="text" class="form-control" formControlName="marca" id="marcadispositivo" required="required" placeholder="Marca">
            </div>
        </div>

        <button id="enviar" class="btn btn-success" type="submit" (click)="generarDispositivo()">Enviar</button>
    </form>
    
    
    <form *ngIf="target == 'cliente' && cliente" [formGroup]="cliente">

        
        <div class="form-row">
            <label for="nombrecliente" class="col-2 col-form-label">Nombre</label>
            <div class="col-10">
                <input type="text" class="form-control" formControlName="nombre" id="nombrecliente" required="required" placeholder="Nombre">
            </div>
        </div>
        
        <div class="form-row">
            <label for="apellidoscliente" class="col-2 col-form-label">Apellidos</label>
            <div class="col-10">
                <input type="text" class="form-control" formControlName="apellidos" id="apellidoscliente" required="required" placeholder="Apellidos">
            </div>
        </div>
        
        <div class="form-row">
            <label for="callecliente" class="col-2 col-form-label">Calle</label>
            <div class="col-10">
                <input type="text" class="form-control" formControlName="calle" id="callecliente" required="required" placeholder="Calle">
            </div>
        </div>
        
        <div class="form-row">
            <label for="numerocliente" class="col-2 col-form-label">Número</label>
            <div class="col-10">
                <input type="text" class="form-control" formControlName="numero" id="numerocliente" required="required" placeholder="Número de Serie">
            </div>
        </div>
        
        <div class="form-row">
            <label for="cpostalcliente" class="col-2 col-form-label">Código Postal</label>
            <div class="col-10">
                <input type="text" class="form-control" formControlName="cpostal" id="cpostalcliente" required="required" placeholder="Código Postal">
            </div>
        </div>

        <div class="form-row">
            <label for="ciudadcliente" class="col-2 col-form-label">Ciudad</label>
            <div class="col-10">
                <input type="text" class="form-control" formControlName="ciudad" id="ciudadcliente" required="required" placeholder="Ciudad">
            </div>
        </div>

        <div class="form-row">
            <label for="telefonocliente" class="col-2 col-form-label">Teléfono</label>
            <div class="col-10">
                <input type="text" class="form-control" formControlName="telefono" id="telefonocliente" required="required" placeholder="Teléfono">
            </div>
        </div>

        <div class="form-row">
            <label for="correocliente" class="col-2 col-form-label">Correo Electrónico</label>
            <div class="col-10">
                <input type="text" class="form-control" formControlName="correo" id="correocliente" required="required" placeholder="Correo Electrónico">
            </div>
        </div>

        <button id="enviar" class="btn btn-success" type="submit" (click)="generarCliente()">Enviar</button>
    </form>
   
   
   
    <form *ngIf="target == 'orden' && ordenedit" [formGroup]="ordenedit">

        
        <div class="form-row">
            <label for="tituloorden" class="col-2 col-form-label">Titulo</label>
            <div class="col-10">
                <input type="text" class="form-control" formControlName="titulo" id="tituloorden" required="required" placeholder="Servicio">
            </div>
        </div>
        
        <div class="form-row">
            <label for="descripcionorden" class="col-2 col-form-label">Descripción</label>
            <div class="col-10">
                <textarea type="text" class="form-control" formControlName="descripcion" id="descripcionorden" required="required" placeholder="Descripción" rows="3"></textarea>
            </div>
        </div>
        
        <div class="form-row">
            <label for="estadoorden" class="col-2 col-form-label">Estado</label>
            <div class="col-10">
                <select class="custom-select" formControlName="estado" id="estadoorden" required="required" placeholder="Estado">
                    <option value="Pendiente de revisión">Pendiente de revisión</option>
                    <option value="Pendiente de presupuesto">Pendiente de presupuesto</option>
                    <option value="En reparación">En reparación</option>
                    <option value="Esperando pieza">Esperando pieza</option>
                    <option value="Listo para la entrega">Listo para la entrega</option>
                    <option value="Finalizada">Finalizada</option>
                  </select>
            </div>
        </div>
        
        <div class="form-row">
            <label for="tallerorden" class="col-2 col-form-label">Taller</label>
            <div class="col-10">
                <input type="text" class="form-control" formControlName="taller" id="numerocliente" required="required" placeholder="Número de Serie">
            </div>
        </div>


        <button id="enviar" class="btn btn-success" type="submit" (click)="generarOrden()">Enviar</button>
    </form>


    <div *ngIf="target == 'costes'">

        <div class="container-fluid" id="costeswraper">
            <div *ngFor="let coste of orden.costes; let i = index" class="coste"><b>{{coste.servicio}}</b> - ({{coste.coste}}€)
                <button (click)="deletecoste(i)" class="btn btn-danger iconoscoste">Eliminar <svg class="bi bi-trash" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 5.5A.5.5 0 016 6v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm2.5 0a.5.5 0 01.5.5v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm3 .5a.5.5 0 00-1 0v6a.5.5 0 001 0V6z"/><path fill-rule="evenodd" d="M14.5 3a1 1 0 01-1 1H13v9a2 2 0 01-2 2H5a2 2 0 01-2-2V4h-.5a1 1 0 01-1-1V2a1 1 0 011-1H6a1 1 0 011-1h2a1 1 0 011 1h3.5a1 1 0 011 1v1zM4.118 4L4 4.059V13a1 1 0 001 1h6a1 1 0 001-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z" clip-rule="evenodd"/></svg></button>
                <button (click)="editcoste(i)" class="btn btn-warning iconoscoste">Editar <svg class="bi bi-pencil" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M11.293 1.293a1 1 0 011.414 0l2 2a1 1 0 010 1.414l-9 9a1 1 0 01-.39.242l-3 1a1 1 0 01-1.266-1.265l1-3a1 1 0 01.242-.391l9-9zM12 2l2 2-9 9-3 1 1-3 9-9z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M12.146 6.354l-2.5-2.5.708-.708 2.5 2.5-.707.708zM3 10v.5a.5.5 0 00.5.5H4v.5a.5.5 0 00.5.5H5v.5a.5.5 0 00.5.5H6v-1.5a.5.5 0 00-.5-.5H5v-.5a.5.5 0 00-.5-.5H3z" clip-rule="evenodd"/></svg></button>
            </div>
        </div>

        <form *ngIf="coste" [formGroup]="coste">

            <div class="form-row" id="costesform">
                <div class="col-9">
                    <input type="text" class="form-control" formControlName="servicio" id="tituloorden" required="required" placeholder="Servicio">
                </div>
                <div class="col-3">
                    <input type="text" class="form-control" formControlName="coste" id="tituloorden" required="required" placeholder="Servicio">
                </div>
            </div>
            

            <button id="enviar" class="btn btn-success" type="submit" (click)="generarcoste()">Aceptar</button>
        </form>
        <button id="cancelar" class="btn btn-primary" type="submit" (click)="newcoste()">Añadir nuevo</button>
    </div>
</div>

<div id="lostfocus" (click)="cerrar()">

</div>



